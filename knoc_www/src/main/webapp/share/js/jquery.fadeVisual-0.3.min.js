/*!
 * fadeVisual - v0.3 - 2015-10-26
 * http://archive.inplusweb.com/js/fadeVisual
 * Copyright (c) 2015 Ma Yong Min
 * Licensed MIT (http://archive.inplusweb.com/js/fadeVisual/LICENSE-MIT)
 */
(function(c){c.fadeVisual={version:"0.3",curr:0};c.fn.fadeVisual=function(k){var a=c.extend(!0,{},c.fn.fadeVisual.defaults,k);this.each(function(){var e=c(this),g=c("div."+a.visual_class,e).find("> ul > li");if(a.flag_use_indicator){var d=c("div."+a.indicator_class,e).find("button");g.length!=d.length&&alert("[Error]\n\nThe number of visual is not same as number of indicator button.")}if(a.flag_use_control)var k=c("button."+a.pause_class,e),n=c("button."+a.resume_class,e),x=c("button."+a.toggle_class,
e),y=c("button."+a.prev_class,e),z=c("button."+a.next_class,e);if(a.flag_use_numbering)var A=c("."+a.active_number_class,e),B=c("."+a.total_number_class,e);var p=g.length,t=1*a.default_z+20,l=a.start_no-1,f=l,u=!1,h=!1,m=null,r=function(){clearTimeout(m);m=setTimeout(function(){if(!h){var a=1*f+1;a>=p&&(a=0);q(a)}},1E3*a.loop_speed)},q=function(b){h=!0;a.startCall(b);clearTimeout(m);a.flag_use_indicator&&d.not(":eq("+b+")").attr("disabled",!0);var c=t-10;g.eq(b).css("z-index",c).fadeIn(1E3*a.fade_speed).end().eq(f).fadeOut(1E3*
a.fade_speed,function(){g.eq(b).css("z-index",t).end().eq(f).css("z-index",a.default_z);a.flag_use_indicator&&(d.removeAttr("disabled").not(":eq("+b+")").removeClass(a.on_class).end().eq(b).addClass(a.on_class),a.on_class!=a.hover_class&&d.eq(b).removeClass(a.hover_class));a.flag_use_numbering&&A.text(1*b+1);a.endCall(b);f=b;a.flag_loop&&!u&&r();h=!1})},v=function(b){a.flag_loop=!1;b||(k.addClass(a.hidden_class),n.removeClass(a.hidden_class).focus());clearTimeout(m)},w=function(b){a.flag_loop=!0;
b||(k.removeClass(a.hidden_class).focus(),n.addClass(a.hidden_class));r()};e.on("mouseenter focusin",function(b){a.flag_loop&&a.flag_auto_pause&&(u=!0,clearTimeout(m))}).on("mouseleave focusout",function(b){a.flag_loop&&a.flag_auto_pause&&(u=!1,r())});if(a.flag_use_indicator)d.on("mouseenter focusin",function(b){b=d.index(c(this));b!=f&&(a.hoverCall(b),d.eq(b).addClass(a.hover_class),a.on_class!=a.hover_class&&d.not(":eq("+b+")").removeClass(a.hover_class))}).on("mouseleave focusout",function(b){b=
d.index(c(this));b!=f&&(a.blurCall(b),d.eq(b).removeClass(a.hover_class))}).on("click",function(a){a=d.index(c(this));a==f||h||q(a)});a.flag_use_control&&(k.on("mouseenter focusin",function(b){c(this).addClass(a.hover_class)}).on("mouseleave focusout",function(b){c(this).removeClass(a.hover_class)}).on("click",function(a){v(!1)}),n.on("mouseenter focusin",function(b){c(this).addClass(a.hover_class)}).on("mouseleave focusout",function(b){c(this).removeClass(a.hover_class)}).on("click",function(a){w(!1)}),
x.on("mouseenter focusin",function(b){c(this).addClass(a.hover_class)}).on("mouseleave focusout",function(b){c(this).removeClass(a.hover_class)}).on("click",function(b){a.flag_loop?v(!0):w(!0)}),y.on("mouseenter focusin",function(b){c(this).addClass(a.hover_class)}).on("mouseleave focusout",function(b){c(this).removeClass(a.hover_class)}).on("click",function(a){h||(a=1*f-1,0>a&&(a=p-1),q(a))}),z.on("mouseenter focusin",function(b){c(this).addClass(a.hover_class)}).on("mouseleave focusout",function(b){c(this).removeClass(a.hover_class)}).on("click",
function(a){h||(a=1*f+1,a>=p&&(a=0),q(a))}));g.parent("ul").css({position:"relative",zIndex:"0",width:"100%",height:"100%"});g.css({position:"absolute",top:"0",left:"0",width:"100%",height:"100%"}).not(":eq("+l+")").css("z-index",a.default_z).end().eq(l).css("z-index",t);a.flag_use_indicator&&d.not(":eq("+l+")").removeClass(a.on_class).removeClass(a.hover_class).end().eq(l).addClass(a.on_class);a.flag_use_control&&n.addClass(a.hidden_class);a.flag_use_numbering&&B.text(p);a.flag_loop&&r()});return this};
c.fn.fadeVisual.defaults={visual_class:"fade-visual",hover_class:"fade-hover",on_class:"fade-on",hidden_class:"fade-hidden",fade_speed:1,default_z:0,start_no:1,flag_loop:!0,flag_auto_pause:!0,loop_speed:5,flag_use_control:!0,pause_class:"fade-pause",resume_class:"fade-resume",toggle_class:"fade-toggle",prev_class:"fade-prev",next_class:"fade-next",flag_use_indicator:!1,indicator_class:"fade-indicator",flag_use_numbering:!1,active_number_class:"fade-active-number",total_number_class:"fade-total-number",
hoverCall:function(c){},blurCall:function(c){},startCall:function(c){},endCall:function(c){}}})(jQuery);