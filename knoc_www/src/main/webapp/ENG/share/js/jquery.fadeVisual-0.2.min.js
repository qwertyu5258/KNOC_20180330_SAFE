/*!
 * fadeVisual - v0.2 - 2015-07-16
 * http://archive.inplusweb.com/js/fadeVisual
 * Copyright (c) 2015 Ma Yong Min
 * Licensed MIT (http://archive.inplusweb.com/js/fadeVisual/LICENSE-MIT)
 */
!function(s){s.fadeVisual={version:"0.2",curr:0},s.fn.fadeVisual=function(e){var o=s.extend(!0,{},s.fn.fadeVisual.defaults,e);return this.each(function(){var e=s(this),a=s("div."+o.visual_class,e).find("> ul > li"),n=s("div."+o.indicator_class,e).find("button");a.length!=n.length&&alert("[Error]\n\n비주얼과 버튼의 개수가 일치하지 않습니다.");var l=s("button."+o.pause_class,e),t=s("button."+o.resume_class,e),c=s("button."+o.toggle_class,e),i=s("button."+o.prev_class,e),u=s("button."+o.next_class,e),d=a.length,f=1*o.default_z+20,r=o.start_no-1,_=r,v=!1,h=!1,m=null,C=function(){a.parent("ul").css({position:"relative",zIndex:"0",width:"100%",height:"100%"}),a.css({position:"absolute",top:"0",left:"0",width:"100%",height:"100%"}).not(":eq("+r+")").css("z-index",o.default_z).end().eq(r).css("z-index",f),n.not(":eq("+r+")").removeClass(o.on_class).removeClass(o.hover_class).end().eq(r).addClass(o.on_class),t.addClass(o.hidden_class)},p=function(){clearTimeout(m),m=setTimeout(function(){if(!h){var s=1*_+1;s>=d&&(s=0),g(s)}},1e3*o.loop_speed)},g=function(s){h=!0,o.startCall(s),clearTimeout(m),n.not(":eq("+s+")").attr("disabled",!0);var e=f-10;a.eq(s).css("z-index",e).fadeIn(1e3*o.fade_speed).end().eq(_).fadeOut(1e3*o.fade_speed,function(){a.eq(s).css("z-index",f).end().eq(_).css("z-index",o.default_z),n.removeAttr("disabled").not(":eq("+s+")").removeClass(o.on_class).end().eq(s).addClass(o.on_class),o.on_class!=o.hover_class&&n.eq(s).removeClass(o.hover_class),o.endCall(s),_=s,o.flag_loop&&!v&&p(),h=!1})},q=function(s){o.flag_loop=!1,s||(l.addClass(o.hidden_class),t.removeClass(o.hidden_class).focus()),clearTimeout(m)},x=function(s){o.flag_loop=!0,s||(l.removeClass(o.hidden_class).focus(),t.addClass(o.hidden_class)),p()};e.on("mouseenter focusin",function(){o.flag_loop&&o.flag_pause&&(v=!0,clearTimeout(m))}).on("mouseleave focusout",function(){o.flag_loop&&o.flag_pause&&(v=!1,p())}),n.on("mouseenter focusin",function(){var e=n.index(s(this));e!=_&&(o.hoverCall(e),n.eq(e).addClass(o.hover_class),o.on_class!=o.hover_class&&n.not(":eq("+e+")").removeClass(o.hover_class))}).on("mouseleave focusout",function(){var e=n.index(s(this));e!=_&&(o.blurCall(e),n.eq(e).removeClass(o.hover_class))}).on("click",function(){var e=n.index(s(this));e==_||h||g(e)}),l.on("mouseenter focusin",function(){s(this).addClass(o.hover_class)}).on("mouseleave focusout",function(){s(this).removeClass(o.hover_class)}).on("click",function(){q(!1)}),t.on("mouseenter focusin",function(){s(this).addClass(o.hover_class)}).on("mouseleave focusout",function(){s(this).removeClass(o.hover_class)}).on("click",function(){x(!1)}),c.on("mouseenter focusin",function(){s(this).addClass(o.hover_class)}).on("mouseleave focusout",function(){s(this).removeClass(o.hover_class)}).on("click",function(){o.flag_loop?q(!0):x(!0)}),i.on("mouseenter focusin",function(){s(this).addClass(o.hover_class)}).on("mouseleave focusout",function(){s(this).removeClass(o.hover_class)}).on("click",function(){if(!h){var s=1*_-1;0>s&&(s=d-1),g(s)}}),u.on("mouseenter focusin",function(){s(this).addClass(o.hover_class)}).on("mouseleave focusout",function(){s(this).removeClass(o.hover_class)}).on("click",function(){if(!h){var s=1*_+1;s>=d&&(s=0),g(s)}}),C(),o.flag_loop&&p()}),this},s.fn.fadeVisual.defaults={visual_class:"fade-visual",indicator_class:"fade-indicator",pause_class:"fade-pause",resume_class:"fade-resume",toggle_class:"fade-toggle",prev_class:"fade-prev",next_class:"fade-next",hover_class:"fade-hover",on_class:"fade-on",hidden_class:"fade-hidden",flag_loop:!0,flag_pause:!0,flag_control:!1,fade_speed:1,loop_speed:5,default_z:0,start_no:1,hoverCall:function(){},blurCall:function(){},startCall:function(){},endCall:function(){}}}(jQuery);